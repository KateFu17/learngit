#在/Users/katefu/learngit下创建一个文件并且进入该文件
mkdir learngit
#初始化一个Git仓库，使用这个命令！出现了一个.git的东东
git init
#添加文件到Git仓库
git add <file> #可以一次加好几个，可反复多次使用，添加多个文件
git commit -m <message> # message里面可以添加改动的信息 -m后面输入的是本次提交的说明
#自动配置了姓名和电子邮件 电脑的用户名和主机名 设置这些东西：
# git config --global --edit
# 做了这步之后，用下列方法修正本次提交使用的身份
# git commit --amend --reset-author

#用这个命令可以让我们掌握仓库当前的状态
git status
#这个命令可以看看具体修改了什么内容
git diff
#使用add后可以再用git status看仓库的状态，让自己放心~
git add <file>
git commit -m "add 2 sentences"

#查看自己提交的版本，文件的一些信息
git log
git log --pretty=oneline #可以精简输出信息

#HEAD指向的版本就是当前的版本，git可以让我们在不同的版本之间穿梭？但是可以针对某个文件的修改而穿梭吗？还是只能有一个，刚刚想恢复readme结果恢复了另一个，就很尴尬
git reset --hard commit_id
#可以用git log查看提交历史，确定要回去的版本，精简输出可以用git log --pretty=oneline
git log
#重新回到“未来”的版本，可以用git relog查看历史命令
git relog

#撤销修改
#未git add至stage前，可以用git restore readme.txt将文本恢复至上一个版本
git restore readme.txt#直接丢弃工作区的修改
#常用git status搞清楚现在的状态
#已经用git add后，可以用git restore --staged readme.txt将文件从stage里取出来
git restore --stage readme.txt #添加到了暂存区想丢弃修改，先撤回到工作区再用上个命令丢弃工作区的修改

#删除文件
#再文件管理器中移除文件
rm test.txt
git status #可以看到删除了什么文件
#确实从版本库中删除文件则
git rm test.txt
git commit -m “remove test.txt”
#删除错误时，假如已经提交过版本库，可以把误删的文件恢复到最新版本

#远程仓库
# 用户主目录是 ~ ！可以用ls -al ~/.ssh看有没有密钥文件
# 如果没有可以创建 ssh-keygen -t rsa -C "youremail@example.com"
# id_rsa是私钥 id_rsa.pub 是公钥
# 复制公钥 复制这个文件里内容到clipboard
pbcopy < ~/.ssh/id_rsa.pub
# create a new repository on the command line GitHub上的命令行教学
echo "# learngit" >> README.md
git init
git add README.md
git commit -m "first commit"
git branch -M main #这个好像是指定branch？第一次没做这一步导致了报错
git remote add origin https://github.com/KateFu17/learngit.git
git push -u origin main #-u 第一次推送main分支的所有内容
# 现在只要本地提交了，就可以通过命令将最新的修改推送至GitHub
git push origin main

#远程库克隆
# https，也可以用ssh，https比较慢，ssh比较快
# 克隆一个仓库，先知道仓库的地址，然后使用git clone
git clone git@github.com:michaelliao/gitskills.git

#分支管理
# 创建分支
git branch <name>
# 创建分支并切换到该分支
git switch -c dev
#切换到已有分支
git switch dev
# 可以在该分支中改东西并且提交
git branch #查看分支
# 把dev分支的工作成果合并到main分支上
git merge dev #fast-forward合并的快进模式
# 合并后可以删除分支
git branch -d dev
git branch
